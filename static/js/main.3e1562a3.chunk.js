(this["webpackJsonphotel-angelini"]=this["webpackJsonphotel-angelini"]||[]).push([[0],{138:function(e,t,n){},139:function(e,t,n){},153:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),o=n.n(c),i=(n(138),n(139),n(69)),s=n(29),l=n(1),u=n.n(l),d=n(2),b=n(18),j=n(204),p=n(208),h=n(207),f=n(203),O=n(205),x=n(206),m=n(194),v=n(60),g=n(209),w=n(211),k=n(190),y=n(5),S=function(e){var t={root:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",right:"52px"}},n=Object(k.a)((function(){return Object(v.a)({},t)}))();return Object(y.jsx)(w.a,{id:"combo-box-product",options:e.menu,getOptionLabel:function(e){return e.nombre},onChange:function(t,n){e.onChange(n)},renderInput:function(e){return Object(y.jsx)(g.a,Object(v.a)(Object(v.a)({},e),{},{InputLabelProps:{classes:n},label:"Selezionare il prodotto",variant:"outlined",fullWidth:!0}))}},e.cleanAutocomplete)},C=n(201);function N(e){return e.getDate()+"/"+(e.getMonth()+1)+"/"+(e.getYear()+1900)}function z(e,t){return t.filter((function(t){return t.numeroHabitacion===e&&!t.cancelado&&!t.pagado}))}function F(e,t,n,a,r){var c=n*a;return{numeroHabitacion:e,fecha:N(r),producto:t,precio:n,cantidad:a,total:c,pagado:!1,cancelado:!1}}function I(e){return e||(e=0),"".concat(e.toFixed(2))}function E(e){var t=0;return null===e||void 0===e||e.forEach((function(e){t+=e.precio*e.cantidad})),I(t)}function P(e,t){var n;return E(null===(n=Object.values(t))||void 0===n?void 0:n.filter((function(t){return t.numeroHabitacion===e&&!t.pagado&&!t.cancelado})))}function V(e){return e.sort((function(e,t){return e.fecha<t.fecha?-1:e.fecha>t.fecha?1:0}))}var T=function(e){var t={root:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",right:"52px"}},n=Object(k.a)((function(){return Object(v.a)({},t)}))();return Object(y.jsx)(w.a,{id:"combo-box-product",options:e.rooms,getOptionLabel:function(e){return e.numero},onChange:function(t,n){e.onChangeRoom(n),console.log(n.numero),e.setFilasTabla(V(z(n.numero,null===e||void 0===e?void 0:e.ventas)))},renderInput:function(e){return Object(y.jsx)(g.a,Object(v.a)(Object(v.a)({},e),{},{InputLabelProps:{classes:n},label:"Seleziona la stanza",variant:"outlined",fullWidth:!0}))}})},D=[{numero:"121"},{numero:"122"},{numero:"123"},{numero:"124"},{numero:"125"},{numero:"126"},{numero:"127"},{numero:"128"},{numero:"129"},{numero:"130"},{numero:"131"},{numero:"132"},{numero:"133"},{numero:"134"},{numero:"135"},{numero:"136"},{numero:"137"},{numero:"241"},{numero:"242"},{numero:"243"},{numero:"244"},{numero:"245"},{numero:"246"},{numero:"247"},{numero:"248"},{numero:"249"},{numero:"250"},{numero:"251"},{numero:"252"},{numero:"253"},{numero:"254"},{numero:"255"},{numero:"256"},{numero:"257"}];var H=n(213),A=n(200),M=n(198),q=n(199),B=n(197),L=n(111),R=n(117),Q=n(79),W=n(43),G=n(113);function J(e){return K.apply(this,arguments)}function K(){return(K=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Q.a)().onAuthStateChanged((function(e){e?(console.log("user logged in",e),"guido@angelini.com"===e.email||"admin@angelini.com"===e.email?localStorage.permiso=1:"hotel@angelini.com"===e.email&&(localStorage.permiso=0)):(console.log("user logged out"),localStorage.permiso=-1),t&&t()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Q.b)(Object(Q.a)(),t,n);case 3:a=e.sent,console.log(a),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Z(){return $.apply(this,arguments)}function $(){return($=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.a)().signOut();case 2:console.info("user logged off");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return _.apply(this,arguments)}function _(){return(_=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=Object(W.a)(Object(W.e)(),t),e.next=4,Object(W.d)(a);case 4:return e.sent.forEach((function(e){var t=e.data();t.id=e.id,n.push(t)})),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:re("productos",t),console.info("Prodotto "+t.nombre+" actualizado");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:re("ventas",t),console.info("Ventas  saldadas");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(W.c)(Object(W.e)(),t,n.id),e.next=3,Object(W.g)(a,n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue("productos",t);case 2:console.info("Prodotto "+t.nombre+" guardado");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return le.apply(this,arguments)}function le(){return(le=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue("ventas",t);case 2:console.info("Venta realizada");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t){return de.apply(this,arguments)}function de(){return(de=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.id=Object(G.uuid)(),a=Object(W.c)(Object(W.e)(),t,n.id),e.next=4,Object(W.f)(a,n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e){return je.apply(this,arguments)}function je(){return(je=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe("productos",t);case 2:console.info("Prodotto "+t.nombre+" eliminado");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return he.apply(this,arguments)}function he(){return(he=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe("ventas",t);case 2:console.info("Venta  eliminado");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(W.c)(Object(W.e)(),t,n.id),e.next=3,Object(W.b)(a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(){return me.apply(this,arguments)}function me(){return(me=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("productos");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(){return ge.apply(this,arguments)}function ge(){return(ge=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("ventas");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t){return ke.apply(this,arguments)}function ke(){return ke=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.filter((function(e){return e.numeroHabitacion===t})).filter((function(e){return!1===e.pagado})).filter((function(e){return!1===e.cancelado})).forEach(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pagado=!0,e.next=3,ne(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)}))),ke.apply(this,arguments)}var ye=function(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],o=function(){console.log(e.ventaId),c(!1)};return Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{className:"btn",onClick:function(e){c(!0)},children:"Annullare"}),Object(y.jsxs)(H.a,{open:a,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(y.jsx)(B.a,{id:"alert-dialog-title",children:"Sei sicuro di voler cancellare questa vendita?"}),Object(y.jsx)(M.a,{children:Object(y.jsx)(q.a,{id:"alert-dialog-description",children:"Se si rimuove la vendita non sar\xe0 possibile recuperarla"})}),Object(y.jsxs)(A.a,{children:[Object(y.jsx)("button",{className:"btn",onClick:Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe(null===e||void 0===e?void 0:e.venta);case 2:return t.next=4,ve();case 4:n=t.sent,null===e||void 0===e||e.setVentas(n),e.setFilasTabla(z(e.venta.numeroHabitacion,n)),o();case 8:case"end":return t.stop()}}),t)}))),children:"Si"}),Object(y.jsx)("button",{className:"btn",onClick:o,autoFocus:!0,children:"No"})]})]})]})},Se=function(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],o=r.a.useState(!1),i=Object(b.a)(o,2),s=i[0],l=i[1],j=function(){console.log(e.ventaId),c(!1)},p=function(){l(!1)};return Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{className:"btn",onClick:function(t){"-"!==(null===e||void 0===e?void 0:e.prodotto)&&(null===e||void 0===e?void 0:e.quantita)>0?c(!0):l(!0)},children:"Conferma"}),Object(y.jsxs)(H.a,{open:a,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(y.jsx)(B.a,{id:"alert-dialog-title",children:"Sei sicuro di confermare la vendita per la camera "+e.camere+"?"}),Object(y.jsx)(M.a,{children:Object(y.jsxs)(q.a,{id:"alert-dialog-description",children:["Data: ",N(e.data)," ",Object(y.jsx)("br",{}),"Prodotto: ",e.prodotto," ",Object(y.jsx)("br",{}),"Quantita: ",e.quantita," ",Object(y.jsx)("br",{}),"Totale: ",e.totale,"\u20ac ",Object(y.jsx)("br",{})]})}),Object(y.jsxs)(A.a,{children:[Object(y.jsx)("button",{className:"btn",onClick:Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=F(e.camere,e.prodotto,e.prezzo,e.quantita,e.data),t.next=3,se(n);case 3:return t.next=5,ve();case 5:a=t.sent,null===e||void 0===e||e.setVentas(a),null===e||void 0===e||e.setFilasTabla(V(z(e.camere,a))),null===e||void 0===e||e.reiniciar(),null===e||void 0===e||e.mostrarSoloDetalle(),j();case 11:case"end":return t.stop()}}),t)}))),children:"Si"}),Object(y.jsx)("button",{className:"btn",onClick:j,autoFocus:!0,children:"No"})]})]}),Object(y.jsxs)(H.a,{open:s,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(y.jsx)(B.a,{id:"alert-dialog-title",children:"Error:"}),Object(y.jsx)(M.a,{children:Object(y.jsxs)(q.a,{id:"alert-dialog-description",children:["Devi selezionare un prodotto e una quantit\xe0 maggiore di zero.",Object(y.jsx)("br",{})]})}),Object(y.jsx)(A.a,{children:Object(y.jsx)("button",{className:"btn",onClick:p,autoFocus:!0,children:"Exit"})})]})]})},Ce=n(37),Ne=n(210),ze=n(115),Fe=n(116);function Ie(e){return 1===e}function Ee(e){return 2===e}function Pe(e){return 3===e}function Ve(e){return e.sort((function(e,t){return e.nombre<t.nombre?-1:e.nombre>t.nombre?1:0}))}var Te=function(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],o=function(){console.log(e.ventaId),c(!1)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("button",{className:"btn",onClick:function(e){c(!0)},children:"Incassa"}),Object(y.jsxs)(H.a,{open:a,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(y.jsx)(B.a,{id:"alert-dialog-title",children:"Vuoi azzerare il conto?"}),Object(y.jsx)(M.a,{children:Object(y.jsxs)(q.a,{id:"alert-dialog-description",children:["Importo totale: ",P(e.numeroHabitacion,null===e||void 0===e?void 0:e.ventas),"\u20ac"]})}),Object(y.jsxs)(A.a,{children:[Object(y.jsx)("button",{className:"btn",onClick:Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,we(null===e||void 0===e?void 0:e.numeroHabitacion,null===e||void 0===e?void 0:e.ventas);case 2:n=t.sent,e.setFilasTabla(z(e.numeroHabitacion,n)),e.setVentas(n),o();case 6:case"end":return t.stop()}}),t)}))),children:"Si"}),Object(y.jsx)("button",{className:"btn",onClick:o,autoFocus:!0,children:"No"})]})]})]})},De=function(e){Object(a.useEffect)((function(){me(),Ee(),Ie()}),[]);var t=Object(a.useState)([]),n=Object(b.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)([]),i=Object(b.a)(o,2),l=i[0],v=i[1],g=Object(a.useState)({nombre:"-",precio:0}),w=Object(b.a)(g,2),k=w[0],N=w[1],z=Object(a.useState)({numero:0}),F=Object(b.a)(z,2),P=F[0],V=F[1],L=Object(a.useState)(1),R=Object(b.a)(L,2),Q=R[0],W=R[1],G=Object(a.useState)([]),K=Object(b.a)(G,2),U=K[0],Y=K[1],Z=Object(a.useState)(new Date),$=Object(b.a)(Z,2),X=$[0],_=$[1],ee=Object(a.useState)("none"),te=Object(b.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)("none"),ce=Object(b.a)(re,2),oe=ce[0],ie=ce[1],se=Object(a.useState)(!1),le=Object(b.a)(se,2),ue=le[0],de=le[1],be=Object(a.useState)(0),je=Object(b.a)(be,2),pe=je[0],he=je[1],fe=Object(s.f)();function Oe(){he(pe-2),W(1)}var me=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(ge);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.permiso<0&&(console.log("Not logged in"),fe.push({pathname:"/"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){de(!0)},ke=function(){de(!1)},Ie=function(){var t=Object(d.a)(u.a.mark((function t(){var n,a,r,c,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e||null===(n=e.location)||void 0===n||null===(a=n.state)||void 0===a?void 0:a.menu)){t.next=4;break}v(null===e||void 0===e||null===(r=e.location)||void 0===r||null===(c=r.state)||void 0===c?void 0:c.menu),t.next=8;break;case 4:return t.next=6,xe();case 6:o=t.sent,v(o);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ee=function(){var t=Object(d.a)(u.a.mark((function t(){var n,a,r,o,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e||null===(n=e.location)||void 0===n||null===(a=n.state)||void 0===a?void 0:a.ventas)){t.next=4;break}c(null===e||void 0===e||null===(r=e.location)||void 0===r||null===(o=r.state)||void 0===o?void 0:o.ventas),t.next=8;break;case 4:return t.next=6,ve();case 6:i=t.sent,c(i);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"main",children:[Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h2",{children:"Numero di camera"}),Object(y.jsx)(T,{rooms:D,ventas:r,onChangeRoom:V,setFilasTabla:Y}),Object(y.jsx)("br",{}),Object(y.jsx)("button",{className:"btn",onClick:function(e){0!==P.numero?(ae("block"),ie("block")):we()},children:"Nuova vendita"}),Object(y.jsx)("button",{className:"btn",onClick:function(e){0!==P.numero?(ae("block"),ie("none")):we(),Oe()},children:"Vedere il dettaglio"}),Object(y.jsx)("button",{className:"btn",onClick:function(){fe.push({pathname:"/inicio",state:{menu:l,ventas:r}})},children:"Exit"}),Object(y.jsxs)(H.a,{open:ue,onClose:ke,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(y.jsx)(B.a,{id:"alert-dialog-title",children:"Error:"}),Object(y.jsx)(M.a,{children:Object(y.jsxs)(q.a,{id:"alert-dialog-description",children:["Devi scegliere un numero di camera prima di procedere.",Object(y.jsx)("br",{})]})}),Object(y.jsx)(A.a,{children:Object(y.jsx)("button",{className:"btn",onClick:ke,autoFocus:!0,children:"Exit"})})]})]}),Object(y.jsxs)("div",{className:"container",style:{display:oe},children:[Object(y.jsx)("h2",{children:"Prodotto"}),Object(y.jsx)(S,{menu:Ve(l),onChange:N,cleanAutocomplete:pe})]}),Object(y.jsxs)("div",{className:"container",style:{display:oe},children:[Object(y.jsx)("span",{className:"quantity",children:Q}),Object(y.jsx)(C.a,{}),Object(y.jsx)("button",{className:"btn circle",onClick:function(){W(function(e){return e+1}(Q))},children:"+"}),Object(y.jsx)("button",{className:"btn circle",onClick:function(){W(function(e){return 1===e?1:e-1}(Q))},children:"-"})]}),Object(y.jsxs)("div",{className:"container",style:{display:oe},children:[Object(y.jsx)("h2",{children:"Dettagli di vendita: "}),Object(y.jsxs)("table",{className:"table-venta",children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Camera:"}),Object(y.jsx)("td",{children:P.numero})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Prodotto selezionato:"}),Object(y.jsx)("td",{children:k.nombre})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Prezzo:"}),Object(y.jsxs)("td",{children:[k.precio,"\u20ac"]})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Quantita:"}),Object(y.jsx)("td",{children:Q})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Data:"}),Object(y.jsx)("td",{children:Object(y.jsx)(Ce.a,{utils:ze.a,locale:Fe.a,children:Object(y.jsx)(Ne.a,{value:X,placeholder:"10/10/2018",onChange:function(e){return _(e)},format:"dd/MM/yyyy"})})})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Totale:"}),Object(y.jsxs)("td",{children:[I(k.precio*Q),"\u20ac"]})]})]}),Object(y.jsx)(Se,{camere:P.numero,prodotto:k.nombre,prezzo:k.precio,quantita:Q,totale:I(k.precio*Q),filasTabla:U,setVentas:c,data:X,setFilasTabla:Y,reiniciar:Oe,mostrarSoloDetalle:function(){ae("block"),ie("none")}})]}),Object(y.jsxs)("div",{className:"containerDetalleVenta",style:{display:ne},children:[Object(y.jsxs)("h2",{children:["Extra camera ",P.numero]}),Object(y.jsx)(f.a,{component:m.a,children:Object(y.jsxs)(j.a,{sx:{minWidth:700,fontSize:60},"aria-label":"spanning table",children:[Object(y.jsx)(O.a,{children:Object(y.jsxs)(x.a,{children:[Object(y.jsx)(h.a,{width:"10%",align:"center",children:"Data"}),Object(y.jsx)(h.a,{width:"40%",align:"left",children:"Prodotto"}),Object(y.jsx)(h.a,{width:"5%",align:"right",children:"Quantita"}),Object(y.jsx)(h.a,{width:"15%",align:"right",children:"Prezzo"}),Object(y.jsx)(h.a,{width:"15%",align:"right",children:"Totale"}),Object(y.jsx)(h.a,{width:"15%",align:"center",children:"Annullare"})]})}),Object(y.jsxs)(p.a,{children:[U.map((function(e){return Object(y.jsxs)(x.a,{children:[Object(y.jsx)(h.a,{width:"10%",children:e.fecha}),Object(y.jsx)(h.a,{width:"40%",align:"left",children:e.producto}),Object(y.jsx)(h.a,{width:"5%",align:"right",children:e.cantidad}),Object(y.jsxs)(h.a,{width:"15%",align:"right",children:[e.precio,"\u20ac"]}),Object(y.jsxs)(h.a,{width:"15%",align:"right",children:[I(e.total)," \u20ac"]}),Object(y.jsx)(h.a,{width:"15%",align:"right",children:Object(y.jsx)(ye,{venta:e,filasTabla:U,setFilasTabla:Y,setVentas:c})})]},e.fecha)})),Object(y.jsxs)(x.a,{children:[Object(y.jsx)(h.a,{align:"right",colSpan:4,children:"Totale:"}),Object(y.jsxs)(h.a,{align:"right",children:[E(U)," \u20ac"]})]})]})]})}),Object(y.jsx)("br",{}),1==localStorage.permiso&&Object(y.jsx)(Te,{numeroHabitacion:P.numero,setFilasTabla:Y,setVentas:c,ventas:r}),Object(y.jsx)("button",{className:"btn",onClick:function(){window.print()},children:"Stampa conto"}),Object(y.jsx)("button",{className:"btn",onClick:function(){fe.push("/inicio")},children:"Exit"})]})]})},He=function(e){Object(a.useEffect)((function(){p(),f(),O()}),[]);var t=Object(a.useState)({}),n=Object(b.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)({}),i=Object(b.a)(o,2),l=i[0],j=i[1],p=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(h);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.permiso<0&&(console.log("Not logged in"),x.push({pathname:"/"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var t=Object(d.a)(u.a.mark((function t(){var n,a,r,o,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e||null===(n=e.location)||void 0===n||null===(a=n.state)||void 0===a?void 0:a.menu)){t.next=4;break}c(null===e||void 0===e||null===(r=e.location)||void 0===r||null===(o=r.state)||void 0===o?void 0:o.menu),t.next=8;break;case 4:return t.next=6,xe();case 6:i=t.sent,c(i);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(d.a)(u.a.mark((function t(){var n,a,r,c,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e||null===(n=e.location)||void 0===n||null===(a=n.state)||void 0===a?void 0:a.ventas)){t.next=4;break}j(null===e||void 0===e||null===(r=e.location)||void 0===r||null===(c=r.state)||void 0===c?void 0:c.ventas),t.next=8;break;case 4:return t.next=6,ve();case 6:o=t.sent,j(o);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=Object(s.f)();localStorage.permiso;return Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{className:"btn",onClick:function(){x.push({pathname:"/ventas",state:{menu:r,ventas:l}})},children:"Vendite"}),Object(y.jsx)("button",{className:"btn",onClick:function(){x.push({pathname:"/productos",state:{menu:r,ventas:l}})},children:"Modifica/Aggiungi prodotto"}),Object(y.jsx)("button",{className:"btn",onClick:Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:x.push("/");case 3:case"end":return e.stop()}}),e)}))),children:"Exit"})]})},Ae=n(202),Me=function(){Object(a.useEffect)((function(){p()}),[]);var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(b.a)(c,2),i=o[0],l=o[1],j=Object(s.f)(),p=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(h);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.permiso>=0&&(console.log("Already logged"),j.push({pathname:"/inicio"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();localStorage.setItem("ventas",JSON.stringify(qe));var f=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t.email,t.password);case 2:e.sent?(console.log("Sesion iniciada correctamente"),n=0,"guido@angelini.com"!==t.email&&"admin@angelini.com"!==t.email||(n=1),localStorage.permiso=n,j.push({pathname:"/inicio",state:{permiso:n}})):(localStorage.permiso=-1,console.log("Usuario o contrase\xf1a incorrectos"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)(g.a,{label:"Inserisci il nome utente",onChange:function(e){return r(e.target.value)}}),Object(y.jsx)("br",{}),Object(y.jsx)(g.a,{label:"Inserisci la password",type:"password",size:"big",onChange:function(e){return l(e.target.value)}})]}),Object(y.jsx)("div",{children:Object(y.jsx)(Ae.a,{onClick:function(){f({email:n,password:i})},children:"Avanti"})})]})},qe=[{ventaId:"123asd",numeroHabitacion:"100",fecha:"12/10/2021",producto:"Vodka",precio:"12",cantidad:2,total:24,pagado:!1,cancelado:!1},{ventaId:"323dsd",numeroHabitacion:"100",fecha:"12/10/2021",producto:"Vodka",precio:"12",cantidad:2,total:24,pagado:!1,cancelado:!0},{ventaId:"123zxc",numeroHabitacion:"101",fecha:"12/10/2021",producto:"Fernet",precio:"5",cantidad:10,total:50,pagado:!1,cancelado:!1}],Be=function(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],o=r.a.useState(!1),i=Object(b.a)(o,2),s=i[0],l=i[1],j=function(){c(!1)};return Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{className:"btn",onClick:function(t){var n,a;(a=null===e||void 0===e||null===(n=e.producto)||void 0===n?void 0:n.precio,/^[0-9]{1,4}([.]{1}[0-9]{1,2})?$/.test(a))?c(!0):l(!0)},children:"Salva"}),Object(y.jsxs)(H.a,{open:s,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(y.jsx)(B.a,{id:"alert-dialog-title",children:"Error:"}),Object(y.jsx)(M.a,{children:Object(y.jsxs)(q.a,{id:"alert-dialog-description",children:["il prezzo del prodotto dovrebbe avere solo numeri, punto e basta. ",Object(y.jsx)("br",{})]})}),Object(y.jsx)(A.a,{children:Object(y.jsx)("button",{className:"btn",onClick:function(){l(!1)},autoFocus:!0,children:"Ritorno"})})]}),Ie(e.optionSelected)&&Object(y.jsxs)(H.a,{open:a,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(y.jsx)(B.a,{id:"alert-dialog-title",children:"Siete sicuri di modificare il prodotto con questi nuovi valori:"}),Object(y.jsx)(M.a,{children:Object(y.jsxs)(q.a,{id:"alert-dialog-description",children:["Nome: ",e.producto.nombre," ",Object(y.jsx)("br",{}),"Prezzo: ",e.producto.precio," ",Object(y.jsx)("br",{})]})}),Object(y.jsxs)(A.a,{children:[Object(y.jsx)("button",{className:"btn",onClick:Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee(null===e||void 0===e?void 0:e.producto);case 2:return t.next=4,xe();case 4:n=t.sent,e.setMenu(n),e.reiniciar(),e.setOptionSelected(0),j();case 9:case"end":return t.stop()}}),t)}))),children:"Confermare"}),Object(y.jsx)("button",{className:"btn",onClick:j,autoFocus:!0,children:"Ritorno"})]})]}),Pe(e.optionSelected)&&Object(y.jsxs)(H.a,{open:a,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(y.jsx)(B.a,{id:"alert-dialog-title",children:"Sei sicuro di aggiungere il seguente prodotto:"}),Object(y.jsx)(M.a,{children:Object(y.jsxs)(q.a,{id:"alert-dialog-description",children:["Nome: ",e.producto.nombre," ",Object(y.jsx)("br",{}),"Prezzo: ",e.producto.precio," ",Object(y.jsx)("br",{})]})}),Object(y.jsxs)(A.a,{children:[Object(y.jsx)("button",{className:"btn",onClick:Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={nombre:e.producto.nombre,precio:e.producto.precio},t.next=3,oe(n);case 3:return t.next=5,xe();case 5:a=t.sent,e.setMenu(a),e.reiniciar(),e.setOptionSelected(0),j();case 10:case"end":return t.stop()}}),t)}))),children:"Confermare"}),Object(y.jsx)("button",{className:"btn",onClick:j,autoFocus:!0,children:"Ritorno"})]})]}),Object(y.jsx)("button",{className:"btn",onClick:function(){e.reiniciar(),e.setOptionSelected(0)},children:"Exit"})]})},Le=function(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],o=function(){console.log(e.ventaId),c(!1)};return Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{className:"btn",onClick:function(e){c(!0)},children:"Cancellare"}),Object(y.jsxs)(H.a,{open:a,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(y.jsx)(B.a,{id:"alert-dialog-title",children:"Sei sicuro di eliminare il seguente prodotto:"}),Object(y.jsx)(M.a,{children:Object(y.jsxs)(q.a,{id:"alert-dialog-description",children:["Nome: ",e.producto.nombre," ",Object(y.jsx)("br",{}),"Prezzo: ",e.producto.precio," ",Object(y.jsx)("br",{})]})}),Object(y.jsxs)(A.a,{children:[Object(y.jsx)("button",{className:"btn",onClick:Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be(null===e||void 0===e?void 0:e.producto);case 2:return t.next=4,xe();case 4:n=t.sent,e.setMenu(n),e.reiniciar(),e.setOptionSelected(0),o();case 9:case"end":return t.stop()}}),t)}))),children:"Confermare"}),Object(y.jsx)("button",{className:"btn",onClick:o,autoFocus:!0,children:"Ritorno"})]})]}),Object(y.jsx)("button",{className:"btn",onClick:function(){e.reiniciar(),e.setOptionSelected(0)},children:"Exit"})]})},Re=function(e){Object(a.useEffect)((function(){T(),H(),A()}),[]);var t,n=Object(a.useState)([]),r=Object(b.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)([]),l=Object(b.a)(i,2),j=l[0],p=l[1],h=Object(a.useState)({id:"",nombre:"",precio:0}),f=Object(b.a)(h,2),O=f[0],x=f[1],m=Object(a.useState)(""),v=Object(b.a)(m,2),w=v[0],k=v[1],C=Object(a.useState)(0),N=Object(b.a)(C,2),z=N[0],F=N[1],I=Object(a.useState)(0),E=Object(b.a)(I,2),P=E[0],V=E[1],T=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(D);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.permiso<0&&(console.log("Not logged in"),M.push({pathname:"/"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var t=Object(d.a)(u.a.mark((function t(){var n,a,r,c,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e||null===(n=e.location)||void 0===n||null===(a=n.state)||void 0===a?void 0:a.menu)){t.next=4;break}o(null===e||void 0===e||null===(r=e.location)||void 0===r||null===(c=r.state)||void 0===c?void 0:c.menu),t.next=8;break;case 4:return t.next=6,xe();case 6:i=t.sent,o(i);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(d.a)(u.a.mark((function t(){var n,a,r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===e||void 0===e||null===(n=e.location)||void 0===n||null===(a=n.state)||void 0===a?void 0:a.ventas)&&p(null===e||void 0===e||null===(r=e.location)||void 0===r||null===(c=r.state)||void 0===c?void 0:c.ventas);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=Object(s.f)(),q=function(){x({id:"",nombre:"",precio:0}),V(0)},B=function(){x({id:"",nombre:"",precio:0})};return Object(y.jsxs)("div",{className:"main",children:[Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h2",{children:"Seleziona un'opzione"}),Object(y.jsx)("button",{className:"btn",onClick:function(){V(1),B()},children:"Modifica prodotto"}),Object(y.jsx)("button",{className:"btn",onClick:function(){V(2),B()},children:"Elimina prodotto"}),Object(y.jsx)("button",{className:"btn",onClick:function(){V(3),B()},children:"Aggiungi prodotto"}),Object(y.jsx)("button",{className:"btn",onClick:function(){var t,n;V(0),(null===e||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.ventas)?M.push({pathname:"/inicio",state:{menu:c,ventas:j}}):M.push({pathname:"/inicio",state:{menu:c}})},children:"Exit"})]}),(t=P,(1===t||2===t)&&Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h2",{children:"Seleziona il prodotto"}),Object(y.jsx)(S,{menu:Ve(c),onChange:x})]})),""!==O.nombre&&Ie(P)&&Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h2",{children:"Cambia nome o prezzo"}),Object(y.jsx)(g.a,{fullWidth:!0,className:"textBoxProducts",onChange:function(e){return function(e){var t={id:O.id,nombre:e,precio:O.precio};x(t)}(e.target.value)},label:"Nome",defaultValue:O.nombre,value:O.nombre,margin:"normal"})," ",Object(y.jsx)("br",{}),Object(y.jsx)(g.a,{className:"textBoxProducts",onChange:function(e){return function(e){var t={id:O.id,nombre:O.nombre,precio:e};x(t)}(e.target.value)},label:"Prezzo",defaultValue:O.precio,value:O.precio,margin:"normal"}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)(Be,{producto:O,setMenu:o,menu:c,reiniciar:q,setOptionSelected:V,optionSelected:P})]}),""!==O.nombre&&Ee(P)&&Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h2",{children:"Vuoi cancellare il prodotto:"})," ",Object(y.jsx)("br",{}),O.nombre,Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)(Le,{producto:O,setMenu:o,menu:c,reiniciar:q,setOptionSelected:V,optionSelected:P})]}),Pe(P)&&Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h2",{children:"Inserisci i dettagli del prodotto che vuoi aggiungere:"})," ",Object(y.jsx)("br",{}),Object(y.jsx)(g.a,{label:"Nome del prodotto",onChange:function(e){return k(e.target.value)}}),Object(y.jsx)("br",{}),Object(y.jsx)(g.a,{label:"Prezzo del prodotto",onChange:function(e){return F(e.target.value)}}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)(Be,{producto:{nombre:w,precio:z},setMenu:o,menu:c,reiniciar:q,setOptionSelected:V,optionSelected:P})]})]})},Qe=function(e){return Object(y.jsx)(i.a,{children:Object(y.jsxs)(s.c,{children:[Object(y.jsx)(s.a,{path:"/",exact:!0,component:Me}),Object(y.jsx)(s.a,{path:"/ventas",exact:!0,component:De}),Object(y.jsx)(s.a,{path:"/inicio",exact:!0,component:He}),Object(y.jsx)(s.a,{path:"/productos",exact:!0,component:Re})]})})};var We=function(){return function(){var e=Object(L.a)({apiKey:"AIzaSyCpgGNV-DuaokA47QsU6kxrZagsINKBqHg",authDomain:"hotel-angelini.firebaseapp.com",projectId:"hotel-angelini",storageBucket:"hotel-angelini.appspot.com",messagingSenderId:"226956277742",appId:"1:226956277742:web:e36ac27844826fa2e8c0ff",measurementId:"G-H38NNCFGEF"});Object(R.a)(e)}(),Object(y.jsx)(Qe,{})},Ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,216)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(We,{})}),document.getElementById("root")),Ge()}},[[153,1,2]]]);
//# sourceMappingURL=main.3e1562a3.chunk.js.map