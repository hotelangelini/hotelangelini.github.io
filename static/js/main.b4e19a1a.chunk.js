(this["webpackJsonphotel-angelini"]=this["webpackJsonphotel-angelini"]||[]).push([[0],{144:function(e,t,n){},145:function(e,t,n){},159:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),o=n.n(c),i=(n(144),n(145),n(69)),s=n(29),u=n(1),l=n.n(u),d=n(2),b=n(18),j=n(204),p=n(208),h=n(207),f=n(203),O=n(205),x=n(206),m=n(194),v=n(60),g=n(209),w=n(211),k=n(190);function S(e){return(e.getDate()<10?"0"+e.getDate():e.getDate())+"/"+(e.getMonth()+1)+"/"+(e.getYear()+1900)}function y(e,t){return t.filter((function(t){return t.numeroHabitacion===e&&!t.cancelado&&!t.pagado}))}function C(e,t,n,a,r){var c=n*a;return{numeroHabitacion:e,fecha:S(r),producto:t,precio:n,cantidad:a,total:c,pagado:!1,cancelado:!1}}function N(e){return e||(e=0),"".concat(e.toFixed(2))}function z(e){var t=0;return null===e||void 0===e||e.forEach((function(e){t+=e.precio*e.cantidad})),N(t)}function F(e,t){var n;return z(null===(n=Object.values(t))||void 0===n?void 0:n.filter((function(t){return t.numeroHabitacion===e&&!t.pagado&&!t.cancelado})))}function I(e){return e.sort((function(e,t){var n=e.fecha.split("/").reverse().join(),a=t.fecha.split("/").reverse().join();return n<a?-1:n>a?1:0}))}var E=n(5),V=function(e){var t={root:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",right:"52px"}},n=Object(k.a)((function(){return Object(v.a)({},t)}))();return Object(E.jsx)(w.a,{id:"combo-box-product",options:e.menu,getOptionLabel:function(e){return"."+(null===e||void 0===e?void 0:e.codigo)+" - "+e.nombre+" - \u20ac"+N(1*e.precio)},onChange:function(t,n){n&&e.onChange(n)},renderInput:function(e){return Object(E.jsx)(g.a,Object(v.a)(Object(v.a)({},e),{},{InputLabelProps:{classes:n},label:"Selezionare il prodotto",variant:"outlined",fullWidth:!0}))}},e.cleanAutocomplete)},P=n(201);var T=function(e){var t={root:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",right:"52px"}},n=Object(k.a)((function(){return Object(v.a)({},t)}))();return Object(E.jsx)(w.a,{id:"combo-box-product",options:e.rooms,getOptionLabel:function(e){return e.numero},onChange:function(t,n){if(""!==n&&(null===n||void 0===n?void 0:n.numero)){e.onChangeRoom(n),console.log(n.numero);var a=I(y(n.numero,null===e||void 0===e?void 0:e.ventas));e.setFilasTabla(a),null===e||void 0===e||e.setVistas()}},renderInput:function(e){return Object(E.jsx)(g.a,Object(v.a)(Object(v.a)({},e),{},{InputLabelProps:{classes:n},label:"Seleziona la stanza",variant:"outlined",style:{width:200,marginRight:10}}))}})},H=[{numero:"121"},{numero:"122"},{numero:"124"},{numero:"125"},{numero:"126"},{numero:"127"},{numero:"128"},{numero:"129"},{numero:"130"},{numero:"131"},{numero:"132"},{numero:"133"},{numero:"134"},{numero:"135"},{numero:"136"},{numero:"137"},{numero:"241"},{numero:"242"},{numero:"244"},{numero:"245"},{numero:"246"},{numero:"247"},{numero:"248"},{numero:"249"},{numero:"250"},{numero:"251"},{numero:"252"},{numero:"253"},{numero:"254"},{numero:"255"},{numero:"256"},{numero:"257"},{numero:"01"},{numero:"02"},{numero:"03"},{numero:"04"},{numero:"05"},{numero:"06"},{numero:"07"},{numero:"08"},{numero:"09"},{numero:"10"},{numero:"11"},{numero:"12"},{numero:"13"},{numero:"14"},{numero:"15"},{numero:"16"},{numero:"17"},{numero:"18"},{numero:"19"},{numero:"20"}];var D=n(213),M=n(200),q=n(198),A=n(199),R=n(197),B=n(111),L=n(117),Q=n(77),G=n(43),J=n(113);function W(e){return K.apply(this,arguments)}function K(){return(K=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Q.a)().onAuthStateChanged((function(e){e?(console.log("user logged in",e),"guido@angelini.com"===e.email||"admin@angelini.com"===e.email?localStorage.permiso=1:"hotel@angelini.com"===e.email&&(localStorage.permiso=0)):(console.log("user logged out"),localStorage.permiso=-1),t&&t()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(d.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Q.b)(Object(Q.a)(),t,n);case 3:a=e.sent,console.log(a),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Z(){return $.apply(this,arguments)}function $(){return($=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.a)().signOut();case 2:console.info("user logged off");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return _.apply(this,arguments)}function _(){return(_=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=Object(G.a)(Object(G.e)(),t),e.next=4,Object(G.d)(a);case 4:return e.sent.forEach((function(e){var t=e.data();t.id=e.id,n.push(t)})),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:re("productos",t),console.info("Prodotto "+t.nombre+" actualizado");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:re("ventas",t),console.info("Ventas  saldadas");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(d.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(G.c)(Object(G.e)(),t,n.id),e.next=3,Object(G.g)(a,n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le("productos",t);case 2:console.info("Prodotto "+t.nombre+" guardado");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le("ventas",t);case 2:console.info("Venta realizada");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t){return de.apply(this,arguments)}function de(){return(de=Object(d.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.id=Object(J.uuid)(),a=Object(G.c)(Object(G.e)(),t,n.id),e.next=4,Object(G.f)(a,n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e){return je.apply(this,arguments)}function je(){return(je=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe("productos",t);case 2:console.info("Prodotto "+t.nombre+" eliminado");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return he.apply(this,arguments)}function he(){return(he=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe("ventas",t);case 2:console.info("Venta  eliminado");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(d.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(G.c)(Object(G.e)(),t,n.id),e.next=3,Object(G.b)(a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(){return me.apply(this,arguments)}function me(){return(me=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("productos");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(){return ge.apply(this,arguments)}function ge(){return(ge=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("ventas");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t){return ke.apply(this,arguments)}function ke(){return ke=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.filter((function(e){return e.numeroHabitacion===t})).filter((function(e){return!1===e.pagado})).filter((function(e){return!1===e.cancelado})).forEach(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pagado=!0,e.next=3,ne(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)}))),ke.apply(this,arguments)}var Se=function(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],o=function(){console.log(e.ventaId),c(!1)};return Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{className:"btn x",onClick:function(e){c(!0)}}),Object(E.jsxs)(D.a,{open:a,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(R.a,{id:"alert-dialog-title",children:"Sei sicuro di voler cancellare questa vendita?"}),Object(E.jsx)(q.a,{children:Object(E.jsx)(A.a,{id:"alert-dialog-description",children:"Se si rimuove la vendita non sar\xe0 possibile recuperarla"})}),Object(E.jsxs)(M.a,{children:[Object(E.jsx)("button",{className:"btn",onClick:Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe(null===e||void 0===e?void 0:e.venta);case 2:return t.next=4,ve();case 4:n=t.sent,null===e||void 0===e||e.setVentas(n),e.setFilasTabla(y(e.venta.numeroHabitacion,n)),o();case 8:case"end":return t.stop()}}),t)}))),children:"Si"}),Object(E.jsx)("button",{className:"btn",onClick:o,autoFocus:!0,children:"No"})]})]})]})},ye=function(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],o=r.a.useState(!1),i=Object(b.a)(o,2),s=i[0],u=i[1],j=function(){console.log(e.ventaId),c(!1)},p=function(){u(!1)};return Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{className:"btn",onClick:Object(d.a)(l.a.mark((function t(){var n,a,r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("-"!==(null===e||void 0===e?void 0:e.prodotto)&&(null===e||void 0===e?void 0:e.quantita)>0&&0!==(null===e||void 0===e?void 0:e.camere))){t.next=14;break}return n=C(e.camere,e.prodotto,e.prezzo,e.quantita,e.data),t.next=4,se(n);case 4:return t.next=6,ve();case 6:a=t.sent,null===e||void 0===e||e.setVentas(a),r=y(e.camere,a),c=I(r),null===e||void 0===e||e.setFilasTabla(c),null===e||void 0===e||e.reiniciar(),t.next=15;break;case 14:u(!0);case 15:case"end":return t.stop()}}),t)}))),children:"Conferma"}),Object(E.jsxs)(D.a,{open:a,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(R.a,{id:"alert-dialog-title",children:"Sei sicuro di confermare la vendita per la camera "+e.camere+"?"}),Object(E.jsx)(q.a,{children:Object(E.jsxs)(A.a,{id:"alert-dialog-description",children:["Data: ",S(e.data)," ",Object(E.jsx)("br",{}),"Prodotto: ",e.prodotto," ",Object(E.jsx)("br",{}),"Quantita: ",e.quantita," ",Object(E.jsx)("br",{}),"Totale: ",e.totale,"\u20ac ",Object(E.jsx)("br",{})]})}),Object(E.jsxs)(M.a,{children:[Object(E.jsx)("button",{className:"btn",onClick:Object(d.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=C(e.camere,e.prodotto,e.prezzo,e.quantita,e.data),t.next=3,se(n);case 3:return t.next=5,ve();case 5:a=t.sent,null===e||void 0===e||e.setVentas(a),null===e||void 0===e||e.setFilasTabla(I(y(e.camere,a))),null===e||void 0===e||e.reiniciar(),j();case 10:case"end":return t.stop()}}),t)}))),children:"Si"}),Object(E.jsx)("button",{className:"btn",onClick:j,autoFocus:!0,children:"No"})]})]}),Object(E.jsxs)(D.a,{open:s,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(R.a,{id:"alert-dialog-title",children:"Error:"}),Object(E.jsx)(q.a,{children:Object(E.jsxs)(A.a,{id:"alert-dialog-description",children:["Devi selezionare un prodotto e una quantit\xe0 maggiore di zero e una stanza.",Object(E.jsx)("br",{})]})}),Object(E.jsx)(M.a,{children:Object(E.jsx)("button",{className:"btn",onClick:p,autoFocus:!0,children:"Exit"})})]})]})},Ce=n(37),Ne=n(210),ze=n(115),Fe=n(116);function Ie(e){return 1===e}function Ee(e){return 2===e}function Ve(e){return 3===e}function Pe(e){return e.sort((function(e,t){return e.nombre<t.nombre?-1:e.nombre>t.nombre?1:0}))}var Te=function(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],o=function(){console.log(e.ventaId),c(!1)};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("button",{className:"btn",onClick:function(e){c(!0)},children:"Incassa"}),Object(E.jsxs)(D.a,{open:a,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(R.a,{id:"alert-dialog-title",children:"Vuoi azzerare il conto?"}),Object(E.jsx)(q.a,{children:Object(E.jsxs)(A.a,{id:"alert-dialog-description",children:["Importo totale: ",F(e.numeroHabitacion,null===e||void 0===e?void 0:e.ventas),"\u20ac"]})}),Object(E.jsxs)(M.a,{children:[Object(E.jsx)("button",{className:"btn",onClick:Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,we(null===e||void 0===e?void 0:e.numeroHabitacion,null===e||void 0===e?void 0:e.ventas);case 2:n=t.sent,e.setFilasTabla(y(e.numeroHabitacion,n)),e.setVentas(n),o();case 6:case"end":return t.stop()}}),t)}))),children:"Si"}),Object(E.jsx)("button",{className:"btn",onClick:o,autoFocus:!0,children:"No"})]})]})]})},He=function(e){Object(a.useEffect)((function(){le(),je(),be()}),[]);var t=Object(a.useState)([]),n=Object(b.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)([]),i=Object(b.a)(o,2),u=i[0],v=i[1],g=Object(a.useState)({nombre:"-",precio:0}),w=Object(b.a)(g,2),k=w[0],S=w[1],y=Object(a.useState)({numero:0}),C=Object(b.a)(y,2),F=C[0],I=C[1],D=Object(a.useState)(1),M=Object(b.a)(D,2),q=M[0],A=M[1],R=Object(a.useState)([]),B=Object(b.a)(R,2),L=B[0],Q=B[1],G=Object(a.useState)(new Date),J=Object(b.a)(G,2),K=J[0],U=J[1],Y=Object(a.useState)("none"),Z=Object(b.a)(Y,2),$=Z[0],X=Z[1],_=Object(a.useState)("none"),ee=Object(b.a)(_,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),re=Object(b.a)(ae,2),ce=(re[0],re[1],Object(a.useState)(0)),oe=Object(b.a)(ce,2),ie=oe[0],se=oe[1],ue=Object(s.f)();var le=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(de);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.permiso<0&&(console.log("Not logged in"),ue.push({pathname:"/"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var t=Object(d.a)(l.a.mark((function t(){var n,a,r,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e||null===(n=e.location)||void 0===n||null===(a=n.state)||void 0===a?void 0:a.menu)){t.next=4;break}v(null===e||void 0===e||null===(r=e.location)||void 0===r||null===(c=r.state)||void 0===c?void 0:c.menu),t.next=8;break;case 4:return t.next=6,xe();case 6:o=t.sent,v(o);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),je=function(){var t=Object(d.a)(l.a.mark((function t(){var n,a,r,o,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e||null===(n=e.location)||void 0===n||null===(a=n.state)||void 0===a?void 0:a.ventas)){t.next=4;break}c(null===e||void 0===e||null===(r=e.location)||void 0===r||null===(o=r.state)||void 0===o?void 0:o.ventas),t.next=8;break;case 4:return t.next=6,ve();case 6:i=t.sent,c(i);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"main",children:[Object(E.jsxs)("div",{className:"container rooms",children:[Object(E.jsx)(T,{rooms:H,ventas:r,onChangeRoom:I,setFilasTabla:Q,setVistas:function(){X("block"),ne("block")}}),Object(E.jsx)("br",{}),Object(E.jsx)("button",{className:"btn",onClick:function(){ue.push({pathname:"/inicio",state:{menu:u,ventas:r}})},children:"Exit"})]}),Object(E.jsx)("div",{className:"container",children:Object(E.jsx)(V,{menu:Pe(u),onChange:S,cleanAutocomplete:ie})}),Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("span",{className:"quantity",children:q}),Object(E.jsx)(P.a,{}),Object(E.jsx)("button",{className:"btn circle",onClick:function(){A(function(e){return e+1}(q))},children:"+"}),Object(E.jsx)("button",{className:"btn circle",onClick:function(){A(function(e){return 1===e?1:e-1}(q))},children:"-"})]}),Object(E.jsxs)("div",{className:"container detalle",children:[Object(E.jsxs)("table",{className:"table-venta",children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Camera:"}),Object(E.jsx)("td",{children:F.numero})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Prodotto:"}),Object(E.jsx)("td",{children:k.nombre})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Prezzo:"}),Object(E.jsxs)("td",{children:[k.precio,"\u20ac"]})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Quantita:"}),Object(E.jsx)("td",{children:q})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Data:"}),Object(E.jsx)("td",{children:Object(E.jsx)(Ce.a,{utils:ze.a,locale:Fe.a,children:Object(E.jsx)(Ne.a,{value:K,placeholder:"10/10/2018",onChange:function(e){return U(e)},format:"dd/MM/yyyy"})})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Totale:"}),Object(E.jsxs)("td",{children:[N(k.precio*q),"\u20ac"]})]})]}),Object(E.jsx)(ye,{camere:F.numero,prodotto:k.nombre,prezzo:N(1*k.precio),quantita:q,totale:N(k.precio*q),filasTabla:L,setVentas:c,data:K,setFilasTabla:Q,reiniciar:function(){se(ie-2),S({nombre:"-",precio:0}),A(1)},mostrarSoloDetalle:function(){X("block"),ne("none")}})]}),Object(E.jsxs)("div",{className:"containerDetalleVenta",style:{display:$},children:[Object(E.jsxs)("h2",{children:["Extra camera ",F.numero]}),Object(E.jsx)(f.a,{component:m.a,children:Object(E.jsxs)(j.a,{sx:{minWidth:600,fontSize:60},"aria-label":"spanning table",children:[Object(E.jsx)(O.a,{children:Object(E.jsxs)(x.a,{children:[Object(E.jsx)(h.a,{width:"10%",align:"center",children:"Data"}),Object(E.jsx)(h.a,{width:"40%",align:"left",children:"Prodotto"}),Object(E.jsx)(h.a,{width:"10%",align:"right",children:"Quantita"}),Object(E.jsx)(h.a,{width:"20%",align:"right",children:"Prezzo"}),Object(E.jsx)(h.a,{width:"20%",align:"right",children:"Totale"})]})}),Object(E.jsxs)(p.a,{children:[L.map((function(e){return Object(E.jsxs)(x.a,{children:[Object(E.jsx)(h.a,{width:"10%",children:e.fecha}),Object(E.jsx)(h.a,{width:"40%",align:"left",children:e.producto}),Object(E.jsx)(h.a,{width:"5%",align:"right",children:e.cantidad}),Object(E.jsxs)(h.a,{width:"20%",align:"right",children:[N(1*e.precio),"\u20ac"]}),Object(E.jsxs)(h.a,{width:"20%",align:"right",children:[N(e.total)," \u20ac"]}),Object(E.jsx)(h.a,{width:"5%",align:"right",style:{display:te},children:Object(E.jsx)(Se,{venta:e,filasTabla:L,setFilasTabla:Q,setVentas:c})})]},e.fecha)})),Object(E.jsxs)(x.a,{children:[Object(E.jsx)(h.a,{align:"right",colSpan:4,children:"Totale:"}),Object(E.jsxs)(h.a,{align:"right",children:[z(L)," \u20ac"]})]})]})]})}),Object(E.jsx)("br",{}),1==localStorage.permiso&&Object(E.jsx)(Te,{numeroHabitacion:F.numero,setFilasTabla:Q,setVentas:c,ventas:r}),Object(E.jsx)("button",{className:"btn",onClick:function(){window.print()},children:"Stampa conto"}),Object(E.jsx)("button",{className:"btn",onClick:function(){ue.push("/inicio")},children:"Exit"})]})]})},De=function(e){Object(a.useEffect)((function(){g(),k(),S()}),[]);var t=Object(a.useState)({}),n=Object(b.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)({}),i=Object(b.a)(o,2),u=i[0],v=i[1],g=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(w);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.permiso<0&&(console.log("Not logged in"),z.push({pathname:"/"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var t=Object(d.a)(l.a.mark((function t(){var n,a,r,o,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e||null===(n=e.location)||void 0===n||null===(a=n.state)||void 0===a?void 0:a.menu)){t.next=4;break}c(null===e||void 0===e||null===(r=e.location)||void 0===r||null===(o=r.state)||void 0===o?void 0:o.menu),t.next=8;break;case 4:return t.next=6,xe();case 6:i=t.sent,c(i);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(d.a)(l.a.mark((function t(){var n,a,r,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e||null===(n=e.location)||void 0===n||null===(a=n.state)||void 0===a?void 0:a.ventas)){t.next=4;break}v(null===e||void 0===e||null===(r=e.location)||void 0===r||null===(c=r.state)||void 0===c?void 0:c.ventas),t.next=8;break;case 4:return t.next=6,ve();case 6:o=t.sent,v(o);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(e){var t,n=[];return null===(t=Object.values(e))||void 0===t||t.filter((function(e){return!e.cancelado&&!e.pagado})).forEach((function(e){var t={camera:e.numeroHabitacion,totale:e.total};n.push(t)})),n}(u),C=function(e){var t,n=[];return null===(t=Object.values(e))||void 0===t||t.forEach((function(e){n[e.camera]?n[e.camera]+=e.totale-0:n[e.camera]=e.totale-0})),n}(y),z=Object(s.f)();localStorage.permiso;return Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{className:"btn",onClick:function(){z.push({pathname:"/ventas",state:{menu:r,ventas:u}})},children:"Vendite"}),Object(E.jsx)("button",{className:"btn",onClick:function(){z.push({pathname:"/productos",state:{menu:r,ventas:u}})},children:"Modifica/Aggiungi prodotto"}),Object(E.jsx)("button",{className:"btn",onClick:Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:z.push("/");case 3:case"end":return e.stop()}}),e)}))),children:"Exit"}),Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("h2",{children:"Stanze con sospesi"}),Object(E.jsx)(f.a,{component:m.a,children:Object(E.jsxs)(j.a,{style:{width:200,fontSize:60},"aria-label":"spanning table",children:[Object(E.jsx)(O.a,{children:Object(E.jsxs)(x.a,{children:[Object(E.jsx)(h.a,{width:"10%",align:"right",children:"Stanza"}),Object(E.jsx)(h.a,{width:"20%",align:"right",children:"Totale"})]})}),Object(E.jsx)(p.a,{children:C.map((function(e,t){return Object(E.jsxs)(x.a,{children:[Object(E.jsx)(h.a,{width:"10%",align:"right",children:t}),Object(E.jsxs)(h.a,{width:"10%",align:"right",children:["\u20ac",N(e)]})]})}))})]})}),Object(E.jsx)("br",{})]})]})},Me=n(202),qe=function(){Object(a.useEffect)((function(){p()}),[]);var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(b.a)(c,2),i=o[0],u=o[1],j=Object(s.f)(),p=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(h);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.permiso>=0&&(console.log("Already logged"),j.push({pathname:"/inicio"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();localStorage.setItem("ventas",JSON.stringify(Ae));var f=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t.email,t.password);case 2:e.sent?(console.log("Sesion iniciada correctamente"),n=0,"guido@angelini.com"!==t.email&&"admin@angelini.com"!==t.email||(n=1),localStorage.permiso=n,j.push({pathname:"/inicio",state:{permiso:n}})):(localStorage.permiso=-1,console.log("Usuario o contrase\xf1a incorrectos"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)(g.a,{label:"Inserisci il nome utente",onChange:function(e){return r(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(g.a,{label:"Inserisci la password",type:"password",size:"big",onChange:function(e){return u(e.target.value)}})]}),Object(E.jsx)("div",{children:Object(E.jsx)(Me.a,{onClick:function(){f({email:n,password:i})},children:"Avanti"})})]})},Ae=[{ventaId:"123asd",numeroHabitacion:"100",fecha:"12/10/2021",producto:"Vodka",precio:"12",cantidad:2,total:24,pagado:!1,cancelado:!1},{ventaId:"323dsd",numeroHabitacion:"100",fecha:"12/10/2021",producto:"Vodka",precio:"12",cantidad:2,total:24,pagado:!1,cancelado:!0},{ventaId:"123zxc",numeroHabitacion:"101",fecha:"12/10/2021",producto:"Fernet",precio:"5",cantidad:10,total:50,pagado:!1,cancelado:!1}],Re=function(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],o=r.a.useState(!1),i=Object(b.a)(o,2),s=i[0],u=i[1],j=function(){c(!1)};return Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{className:"btn",onClick:function(t){var n,a;(a=null===e||void 0===e||null===(n=e.producto)||void 0===n?void 0:n.precio,/^[0-9]{1,4}([.]{1}[0-9]{1,2})?$/.test(a))?c(!0):u(!0)},children:"Salva"}),Object(E.jsxs)(D.a,{open:s,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(R.a,{id:"alert-dialog-title",children:"Error:"}),Object(E.jsx)(q.a,{children:Object(E.jsxs)(A.a,{id:"alert-dialog-description",children:["il prezzo del prodotto dovrebbe avere solo numeri, punto e basta. ",Object(E.jsx)("br",{})]})}),Object(E.jsx)(M.a,{children:Object(E.jsx)("button",{className:"btn",onClick:function(){u(!1)},autoFocus:!0,children:"Ritorno"})})]}),Ie(e.optionSelected)&&Object(E.jsxs)(D.a,{open:a,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(R.a,{id:"alert-dialog-title",children:"Siete sicuri di modificare il prodotto con questi nuovi valori:"}),Object(E.jsx)(q.a,{children:Object(E.jsxs)(A.a,{id:"alert-dialog-description",children:["Codigo: ",e.producto.codigo," ",Object(E.jsx)("br",{}),"Nome: ",e.producto.nombre," ",Object(E.jsx)("br",{}),"Prezzo: ",e.producto.precio," ",Object(E.jsx)("br",{})]})}),Object(E.jsxs)(M.a,{children:[Object(E.jsx)("button",{className:"btn",onClick:Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee(null===e||void 0===e?void 0:e.producto);case 2:return t.next=4,xe();case 4:n=t.sent,e.setMenu(n),e.reiniciar(),e.setOptionSelected(0),j();case 9:case"end":return t.stop()}}),t)}))),children:"Confermare"}),Object(E.jsx)("button",{className:"btn",onClick:j,autoFocus:!0,children:"Ritorno"})]})]}),Ve(e.optionSelected)&&Object(E.jsxs)(D.a,{open:a,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(R.a,{id:"alert-dialog-title",children:"Sei sicuro di aggiungere il seguente prodotto:"}),Object(E.jsx)(q.a,{children:Object(E.jsxs)(A.a,{id:"alert-dialog-description",children:["Codigo: ",e.producto.codigo," ",Object(E.jsx)("br",{}),"Nome: ",e.producto.nombre," ",Object(E.jsx)("br",{}),"Prezzo: ",e.producto.precio," ",Object(E.jsx)("br",{})]})}),Object(E.jsxs)(M.a,{children:[Object(E.jsx)("button",{className:"btn",onClick:Object(d.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={nombre:e.producto.nombre,precio:e.producto.precio,codigo:e.producto.codigo},t.next=3,oe(n);case 3:return t.next=5,xe();case 5:a=t.sent,e.setMenu(a),e.reiniciar(),e.setOptionSelected(0),j();case 10:case"end":return t.stop()}}),t)}))),children:"Confermare"}),Object(E.jsx)("button",{className:"btn",onClick:j,autoFocus:!0,children:"Ritorno"})]})]}),Object(E.jsx)("button",{className:"btn",onClick:function(){e.reiniciar(),e.setOptionSelected(0)},children:"Exit"})]})},Be=function(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],o=function(){console.log(e.ventaId),c(!1)};return Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{className:"btn",onClick:function(e){c(!0)},children:"Cancellare"}),Object(E.jsxs)(D.a,{open:a,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(R.a,{id:"alert-dialog-title",children:"Sei sicuro di eliminare il seguente prodotto:"}),Object(E.jsx)(q.a,{children:Object(E.jsxs)(A.a,{id:"alert-dialog-description",children:["Nome: ",e.producto.nombre," ",Object(E.jsx)("br",{}),"Prezzo: ",e.producto.precio," ",Object(E.jsx)("br",{})]})}),Object(E.jsxs)(M.a,{children:[Object(E.jsx)("button",{className:"btn",onClick:Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be(null===e||void 0===e?void 0:e.producto);case 2:return t.next=4,xe();case 4:n=t.sent,e.setMenu(n),e.reiniciar(),e.setOptionSelected(0),o();case 9:case"end":return t.stop()}}),t)}))),children:"Confermare"}),Object(E.jsx)("button",{className:"btn",onClick:o,autoFocus:!0,children:"Ritorno"})]})]}),Object(E.jsx)("button",{className:"btn",onClick:function(){e.reiniciar(),e.setOptionSelected(0)},children:"Exit"})]})},Le=function(e){Object(a.useEffect)((function(){q(),R(),B()}),[]);var t,n=Object(a.useState)([]),r=Object(b.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)([]),u=Object(b.a)(i,2),j=u[0],p=u[1],h=Object(a.useState)({id:"",nombre:"",precio:0}),f=Object(b.a)(h,2),O=f[0],x=f[1],m=Object(a.useState)(""),v=Object(b.a)(m,2),w=v[0],k=v[1],S=Object(a.useState)(""),y=Object(b.a)(S,2),C=y[0],N=y[1],z=Object(a.useState)(0),F=Object(b.a)(z,2),I=F[0],P=F[1],T=Object(a.useState)(0),H=Object(b.a)(T,2),D=H[0],M=H[1],q=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(A);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.permiso<0&&(console.log("Not logged in"),L.push({pathname:"/"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var t=Object(d.a)(l.a.mark((function t(){var n,a,r,c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e||null===(n=e.location)||void 0===n||null===(a=n.state)||void 0===a?void 0:a.menu)){t.next=4;break}o(null===e||void 0===e||null===(r=e.location)||void 0===r||null===(c=r.state)||void 0===c?void 0:c.menu),t.next=8;break;case 4:return t.next=6,xe();case 6:i=t.sent,o(i);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(d.a)(l.a.mark((function t(){var n,a,r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===e||void 0===e||null===(n=e.location)||void 0===n||null===(a=n.state)||void 0===a?void 0:a.ventas)&&p(null===e||void 0===e||null===(r=e.location)||void 0===r||null===(c=r.state)||void 0===c?void 0:c.ventas);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=Object(s.f)(),Q=function(){x({id:"",nombre:"",precio:0}),M(0)},G=function(){x({id:"",nombre:"",precio:0})};return Object(E.jsxs)("div",{className:"main",children:[Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("h2",{children:"Seleziona un'opzione"}),Object(E.jsx)("button",{className:"btn",onClick:function(){M(1),G()},children:"Modifica prodotto"}),Object(E.jsx)("button",{className:"btn",onClick:function(){M(2),G()},children:"Elimina prodotto"}),Object(E.jsx)("button",{className:"btn",onClick:function(){M(3),G()},children:"Aggiungi prodotto"}),Object(E.jsx)("button",{className:"btn",onClick:function(){var t,n;M(0),(null===e||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.ventas)?L.push({pathname:"/inicio",state:{menu:c,ventas:j}}):L.push({pathname:"/inicio",state:{menu:c}})},children:"Exit"})]}),(t=D,(1===t||2===t)&&Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("h2",{children:"Seleziona il prodotto"}),Object(E.jsx)(V,{menu:Pe(c),onChange:x})]})),""!==O.nombre&&Ie(D)&&Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("h2",{children:"Cambia nome o prezzo"}),Object(E.jsx)(g.a,{fullWidth:!0,className:"textBoxProducts",onChange:function(e){return function(e){var t={id:O.id,nombre:e,precio:O.precio};x(t)}(e.target.value)},label:"Nome",defaultValue:O.nombre,value:O.nombre,margin:"normal"})," ",Object(E.jsx)("br",{}),Object(E.jsx)(g.a,{className:"textBoxProducts",onChange:function(e){return function(e){var t={id:O.id,nombre:O.nombre,precio:e};x(t)}(e.target.value)},label:"Prezzo",defaultValue:O.precio,value:O.precio,margin:"normal"}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(Re,{producto:O,setMenu:o,menu:c,reiniciar:Q,setOptionSelected:M,optionSelected:D})]}),""!==O.nombre&&Ee(D)&&Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("h2",{children:"Vuoi cancellare il prodotto:"})," ",Object(E.jsx)("br",{}),O.nombre,Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(Be,{producto:O,setMenu:o,menu:c,reiniciar:Q,setOptionSelected:M,optionSelected:D})]}),Ve(D)&&Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("h2",{children:"Inserisci i dettagli del prodotto che vuoi aggiungere:"})," ",Object(E.jsx)("br",{}),Object(E.jsx)(g.a,{label:"Nome del prodotto",onChange:function(e){return k(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(g.a,{label:"Prezzo del prodotto",onChange:function(e){return P(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(g.a,{label:"Codigo del prodotto",onChange:function(e){return N(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(Re,{producto:{nombre:w,precio:I,codigo:C},setMenu:o,menu:c,reiniciar:Q,setOptionSelected:M,optionSelected:D})]})]})},Qe=function(e){return Object(E.jsx)(i.a,{children:Object(E.jsxs)(s.c,{children:[Object(E.jsx)(s.a,{path:"/",exact:!0,component:qe}),Object(E.jsx)(s.a,{path:"/ventas",exact:!0,component:He}),Object(E.jsx)(s.a,{path:"/inicio",exact:!0,component:De}),Object(E.jsx)(s.a,{path:"/productos",exact:!0,component:Le})]})})};var Ge=function(){return function(){var e=Object(B.a)({apiKey:"AIzaSyCpgGNV-DuaokA47QsU6kxrZagsINKBqHg",authDomain:"hotel-angelini.firebaseapp.com",projectId:"hotel-angelini",storageBucket:"hotel-angelini.appspot.com",messagingSenderId:"226956277742",appId:"1:226956277742:web:e36ac27844826fa2e8c0ff",measurementId:"G-H38NNCFGEF"});Object(L.a)(e)}(),Object(E.jsx)(Qe,{})},Je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,216)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(Ge,{})}),document.getElementById("root")),Je()}},[[159,1,2]]]);
//# sourceMappingURL=main.b4e19a1a.chunk.js.map